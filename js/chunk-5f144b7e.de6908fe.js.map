{"version":3,"sources":["webpack:///./src/components/Setting.vue?f6a0","webpack:///src/components/Setting.vue","webpack:///./src/components/Setting.vue?7eed","webpack:///./src/components/Setting.vue","webpack:///./src/components/Setting.vue?8687"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","userData","_v","staticClass","directives","name","rawName","value","expression","domProps","on","$event","target","composing","$set","handleSubmitUser","staticRenderFns","components","UserLeftbar","data","userDataNew","account","email","password","passwordConfirm","introduction","avatar","cover","created","fetchTweets","page","fetchUser","userId","methods","icon","title","component"],"mappings":"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","file":"js/chunk-5f144b7e.de6908fe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"setting\"}},[_c('div',{attrs:{\"id\":\"leftbar\"}},[_c('UserLeftbar',{attrs:{\"UserLeftbar\":_vm.userData}})],1),_c('div',{attrs:{\"id\":\"main-content-setting\"}},[_c('h3',[_vm._v(\"帳戶設定\")]),_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"inputEmail3\"}},[_vm._v(\"帳號\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('span',{staticClass:\"set-account\"},[_vm._v(\"@\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.account),expression:\"userData.account\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.userData.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"account\", $event.target.value)}}})])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"inputEmail3\"}},[_vm._v(\"名稱\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.name),expression:\"userData.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.userData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"inputEmail3\"}},[_vm._v(\"Email\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.email),expression:\"userData.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.userData.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"email\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"inputPassword3\"}},[_vm._v(\"密碼\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.password),expression:\"userData.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"請輸入新密碼\"},domProps:{\"value\":(_vm.userData.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"password\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"inputPassword3\"}},[_vm._v(\"密碼確認\")]),_c('div',{staticClass:\"col-sm-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userData.passwordConfirm),expression:\"userData.passwordConfirm\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"確認新密碼\"},domProps:{\"value\":(_vm.userData.passwordConfirm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userData, \"passwordConfirm\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('div',{staticClass:\"col-sm-10\"},[_c('button',{staticClass:\"save-btn\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.handleSubmitUser()}}},[_vm._v(\" 儲存 \")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"setting\">\r\n    <div id=\"leftbar\">\r\n      <UserLeftbar :UserLeftbar=\"userData\" />\r\n    </div>\r\n    <div id=\"main-content-setting\">\r\n      <h3>帳戶設定</h3>\r\n      <form>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputEmail3\" class=\"col-sm-2 col-form-label\">帳號</label>\r\n          <div class=\"col-sm-10\">\r\n            <span class=\"set-account\"\r\n              >@<input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                v-model=\"userData.account\"\r\n            /></span>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputEmail3\" class=\"col-sm-2 col-form-label\">名稱</label>\r\n          <div class=\"col-sm-10\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"userData.name\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputEmail3\" class=\"col-sm-2 col-form-label\">Email</label>\r\n          <div class=\"col-sm-10\">\r\n            <input type=\"email\" class=\"form-control\" v-model=\"userData.email\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputPassword3\" class=\"col-sm-2 col-form-label\"\r\n            >密碼</label\r\n          >\r\n          <div class=\"col-sm-10\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"請輸入新密碼\"\r\n              v-model=\"userData.password\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputPassword3\" class=\"col-sm-2 col-form-label\"\r\n            >密碼確認</label\r\n          >\r\n          <div class=\"col-sm-10\">\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"確認新密碼\"\r\n              v-model=\"userData.passwordConfirm\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <div class=\"col-sm-10\">\r\n            <button type=\"submit\" class=\"save-btn\" @click=\"handleSubmitUser()\">\r\n              儲存\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport UserLeftbar from \"../components/UserLeftbar\";\r\nimport tweetAPI from \"./../apis/tweets\";\r\nimport userAPI from \"./../apis/users\";\r\nexport default {\r\n  name: \"setting\",\r\n  components: {\r\n    UserLeftbar,\r\n  },\r\n  // 監聽表單變化\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n      userData: {},\r\n      userDataNew: {\r\n        account: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        passwordConfirm: \"\",\r\n        introduction: \"\",\r\n        avatar: \"\",\r\n        cover: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    // 首頁推文 /tweets\r\n    // 個別推文 /tweets/:tweetId\r\n    // 個別回覆 /tweets/:tweet_id/replies\r\n    const page = \"\";\r\n    const userId = localStorage.getItem(\"id\");\r\n    this.fetchTweets(page);\r\n    this.fetchUser(userId);\r\n  },\r\n  methods: {\r\n    // 送出編輯資料\r\n    handleSubmitUser() {\r\n      if (!this.userData.password || !this.userData.passwordConfirm) {\r\n        Toast.fire({\r\n          icon: \"warning\",\r\n          title: \"請輸入新密碼並確認\",\r\n        });\r\n        return;\r\n      } else if (this.userData.password !== this.userData.passwordConfirm) {\r\n        Toast.fire({\r\n          icon: \"warning\",\r\n          title: \"密碼輸入不一致\",\r\n        });\r\n        return;\r\n      } else if (\r\n        !this.userData.account ||\r\n        !this.userData.name ||\r\n        !this.userData.email\r\n      ) {\r\n        Toast.fire({\r\n          icon: \"warning\",\r\n          title: \"欄位不能有空白\",\r\n        });\r\n        return;\r\n      }\r\n      tweetAPI\r\n        .updateUser({\r\n          userId: localStorage.getItem(\"id\"),\r\n          account: this.userData.account,\r\n          name: this.userData.name,\r\n          email: this.userData.email,\r\n          password: this.userData.password,\r\n          passwordConfirm: this.userData.passwordConfirm,\r\n          introduction: this.userData.introduction,\r\n          avatar: this.userData.avatar,\r\n          cover: this.userData.cover,\r\n        })\r\n        .then((response) => {\r\n          console.log(\"response\", response);\r\n          const data = response.data;\r\n          //console.log(data);\r\n          // 未成功\r\n          if (data.status !== \"success\") {\r\n            throw new Error(data.message);\r\n          } else {\r\n            // 成功\r\n            this.$router.push(\"/tweets\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          // 顯示錯誤提示\r\n          Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"字數過長\",\r\n          });\r\n          console.log(\"error\", error);\r\n        });\r\n    },\r\n    // 取得原始資料\r\n    fetchUser(userId) {\r\n      userAPI\r\n        .getCurrentUser(userId)\r\n        .then((response) => {\r\n          //console.log(\"response\", response);\r\n          const dataArray = response.data;\r\n          // 未成功\r\n          if (response.status != \"200\" || response.data.length == 0) {\r\n            throw new Error(response.statusText);\r\n          } else {\r\n            // 成功\r\n            //console.log(response.statusText)\r\n            console.log(dataArray);\r\n            this.userData = dataArray;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error);\r\n        });\r\n    },\r\n    fetchTweets(page) {\r\n      tweetAPI\r\n        .getMainContent(page)\r\n        .then((response) => {\r\n          //console.log(\"response\", response);\r\n          const dataArray = response.data;\r\n          // 未成功\r\n          if (response.status != \"200\" || response.data.length == 0) {\r\n            throw new Error(response.statusText);\r\n          } else {\r\n            // 成功\r\n            //console.log(response.statusText)\r\n            //console.log(dataArray)\r\n            this.data = dataArray;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n// 變數設置\r\n$orange: #ff6600;\r\n$orange2: #f18904;\r\n$orange3: #f49f05;\r\n$yellow: #f3cd05;\r\n$blue: #36688d;\r\n$main-black: #000;\r\n$text-black: #1c1c1c;\r\n$grey: #9197a3;\r\n$text-grey: #657786;\r\n$background-grey: #f5f8fa;\r\n$line-grey: #e6ecf0;\r\n// 版面配置\r\n#setting {\r\n  display: grid;\r\n  grid-template-columns: 378px 650px;\r\n  width: 100%;\r\n  grid-gap: 1.5rem;\r\n}\r\n#leftbar {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n#main-content-setting {\r\n  height: 700px;\r\n}\r\n.save-btn {\r\n  border-radius: 50px;\r\n  width: 122px;\r\n  height: 50px;\r\n  background: $orange;\r\n  color: #fff;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 45px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=8ed407ac&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}
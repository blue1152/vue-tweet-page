(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f144b7e"],{"27c5":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"setting"}},[s("div",{attrs:{id:"leftbar"}},[s("UserLeftbar",{attrs:{UserLeftbar:t.userData}})],1),s("div",{attrs:{id:"main-content-setting"}},[s("h3",[t._v("帳戶設定")]),s("form",[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputEmail3"}},[t._v("帳號")]),s("div",{staticClass:"col-sm-10"},[s("span",{staticClass:"set-account"},[t._v("@"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.account,expression:"userData.account"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.userData.account},on:{input:function(a){a.target.composing||t.$set(t.userData,"account",a.target.value)}}})])])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputEmail3"}},[t._v("名稱")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.name,expression:"userData.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.userData.name},on:{input:function(a){a.target.composing||t.$set(t.userData,"name",a.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputEmail3"}},[t._v("Email")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.email,expression:"userData.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.userData.email},on:{input:function(a){a.target.composing||t.$set(t.userData,"email",a.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword3"}},[t._v("密碼")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.password,expression:"userData.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"請輸入新密碼"},domProps:{value:t.userData.password},on:{input:function(a){a.target.composing||t.$set(t.userData,"password",a.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputPassword3"}},[t._v("密碼確認")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.passwordConfirm,expression:"userData.passwordConfirm"}],staticClass:"form-control",attrs:{type:"password",placeholder:"確認新密碼"},domProps:{value:t.userData.passwordConfirm},on:{input:function(a){a.target.composing||t.$set(t.userData,"passwordConfirm",a.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-sm-10"},[s("button",{staticClass:"save-btn",attrs:{type:"submit"},on:{click:function(a){return t.handleSubmitUser()}}},[t._v(" 儲存 ")])])])])])])},r=[],o=(s("b0c0"),s("2fa3")),i=s("e7ee"),n=s("6783"),c=s("4cce"),l={name:"setting",components:{UserLeftbar:i["a"]},data:function(){return{data:[],userData:{},userDataNew:{account:"",name:"",email:"",password:"",passwordConfirm:"",introduction:"",avatar:"",cover:""}}},created:function(){var t="",a=localStorage.getItem("id");this.fetchTweets(t),this.fetchUser(a)},methods:{handleSubmitUser:function(){var t=this;this.userData.password&&this.userData.passwordConfirm?this.userData.password===this.userData.passwordConfirm?this.userData.account&&this.userData.name&&this.userData.email?n["a"].updateUser({userId:localStorage.getItem("id"),account:this.userData.account,name:this.userData.name,email:this.userData.email,password:this.userData.password,passwordConfirm:this.userData.passwordConfirm,introduction:this.userData.introduction,avatar:this.userData.avatar,cover:this.userData.cover}).then((function(a){console.log("response",a);var s=a.data;if("success"!==s.status)throw new Error(s.message);t.$router.push("/tweets")})).catch((function(t){o["a"].fire({icon:"warning",title:"字數過長"}),console.log("error",t)})):o["a"].fire({icon:"warning",title:"欄位不能有空白"}):o["a"].fire({icon:"warning",title:"密碼輸入不一致"}):o["a"].fire({icon:"warning",title:"請輸入新密碼並確認"})},fetchUser:function(t){var a=this;c["a"].getCurrentUser(t).then((function(t){var s=t.data;if("200"!=t.status||0==t.data.length)throw new Error(t.statusText);console.log(s),a.userData=s})).catch((function(t){console.log("error",t)}))},fetchTweets:function(t){var a=this;n["a"].getMainContent(t).then((function(t){var s=t.data;if("200"!=t.status||0==t.data.length)throw new Error(t.statusText);a.data=s})).catch((function(t){console.log("error",t)}))}}},u=l,m=(s("fac4"),s("2877")),d=Object(m["a"])(u,e,r,!1,null,null,null);a["default"]=d.exports},f0e6:function(t,a,s){},fac4:function(t,a,s){"use strict";var e=s("f0e6"),r=s.n(e);r.a}}]);
//# sourceMappingURL=chunk-5f144b7e.de6908fe.js.map